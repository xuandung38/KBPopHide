[0/1] Planning build
Building for debugging...
[0/8] Write sources
[2/8] Write swift-version--58304C5D6DBC2206.txt
[4/15] Compiling KSAPDismiss KSAPDismissApp.swift
[5/15] Compiling KSAPDismiss UpdaterViewModel.swift
[6/15] Compiling KSAPDismiss UpdaterDelegate.swift
/Users/hxd/Develop/kbpophide/KSAPDismiss/KSAPDismiss/Updater/UpdaterDelegate.swift:6:40: warning: conformance of 'UpdaterDelegate' to protocol 'SPUUpdaterDelegate' crosses into main actor-isolated code and can cause data races; this is an error in the Swift 6 language mode [#ConformanceIsolation]
 4 | /// Delegate for Sparkle updater to handle beta channels and analytics
 5 | @MainActor
 6 | final class UpdaterDelegate: NSObject, SPUUpdaterDelegate {
   |             |                          |- warning: conformance of 'UpdaterDelegate' to protocol 'SPUUpdaterDelegate' crosses into main actor-isolated code and can cause data races; this is an error in the Swift 6 language mode [#ConformanceIsolation]
   |             |                          |- note: isolate this conformance to the main actor with '@MainActor'
   |             |                          `- note: turn data races into runtime errors with '@preconcurrency'
   |             `- note: mark all declarations used in the conformance 'nonisolated'
 7 | 
 8 |     // MARK: - Beta Channel Filtering
 9 | 
10 |     /// Determine which update channels the user is subscribed to
11 |     func allowedChannels(for updater: SPUUpdater) -> Set<String> {
   |          `- note: main actor-isolated instance method 'allowedChannels(for:)' cannot satisfy nonisolated requirement
12 |         let preferBeta = UserDefaults.standard.bool(forKey: "PreferBetaUpdates")
13 | 
   :
23 |     // MARK: - Update Event Tracking (Analytics)
24 | 
25 |     func updater(_ updater: SPUUpdater, didFindValidUpdate item: SUAppcastItem) {
   |          `- note: main actor-isolated instance method 'updater(_:didFindValidUpdate:)' cannot satisfy nonisolated requirement
26 |         guard UserDefaults.standard.bool(forKey: "EnableAnalytics") else { return }
27 | 
   :
41 |     }
42 | 
43 |     func updater(_ updater: SPUUpdater, didDownloadUpdate item: SUAppcastItem) {
   |          `- note: main actor-isolated instance method 'updater(_:didDownloadUpdate:)' cannot satisfy nonisolated requirement
44 |         guard UserDefaults.standard.bool(forKey: "EnableAnalytics") else { return }
45 | 
   :
49 |     }
50 | 
51 |     func updater(_ updater: SPUUpdater, didAbortWithError error: Error) {
   |          `- note: main actor-isolated instance method 'updater(_:didAbortWithError:)' cannot satisfy nonisolated requirement
52 |         guard UserDefaults.standard.bool(forKey: "EnableAnalytics") else { return }
53 | 
   :
57 |     }
58 | 
59 |     func updaterDidNotFindUpdate(_ updater: SPUUpdater) {
   |          `- note: main actor-isolated instance method 'updaterDidNotFindUpdate' cannot satisfy nonisolated requirement
60 |         guard UserDefaults.standard.bool(forKey: "EnableAnalytics") else { return }
61 | 

/Users/hxd/Develop/kbpophide/KSAPDismiss/KSAPDismiss/Updater/UpdaterDelegate.swift:39:31: error: value of optional type '[String : SUAppcastItem]?' must be unwrapped to refer to member 'isEmpty' of wrapped base type '[String : SUAppcastItem]'
37 |             "available_version": item.versionString,
38 |             "channel": item.channel ?? "default",
39 |             "is_delta": !item.deltaUpdates.isEmpty ? "true" : "false"
   |                               |- error: value of optional type '[String : SUAppcastItem]?' must be unwrapped to refer to member 'isEmpty' of wrapped base type '[String : SUAppcastItem]'
   |                               |- note: chain the optional using '?' to access member 'isEmpty' only for non-'nil' base values
   |                               `- note: force-unwrap using '!' to abort execution if the optional value contains 'nil'
40 |         ])
41 |     }

[#ConformanceIsolation]: <https://docs.swift.org/compiler/documentation/diagnostics/conformance-isolation>
[7/17] Compiling KSAPDismiss SettingsWindowController.swift
[8/17] Compiling KSAPDismiss MenuBarView.swift
[9/17] Compiling KSAPDismiss RollbackManager.swift
/Users/hxd/Develop/kbpophide/KSAPDismiss/KSAPDismiss/Updater/RollbackManager.swift:42:13: warning: initialization of immutable value 'launchCount' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
40 |     @MainActor
41 |     func checkForCrashLoop() -> Bool {
42 |         let launchCount = UserDefaults.standard.integer(forKey: launchCountKey)
   |             `- warning: initialization of immutable value 'launchCount' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
43 | 
44 |         // If we haven't reached stability threshold yet, not a crash loop
[10/17] Compiling KSAPDismiss SettingsView.swift
[11/17] Compiling KSAPDismiss AnalyticsManager.swift
[12/17] Emitting module KSAPDismiss
/Users/hxd/Develop/kbpophide/KSAPDismiss/KSAPDismiss/Updater/UpdaterDelegate.swift:6:40: warning: conformance of 'UpdaterDelegate' to protocol 'SPUUpdaterDelegate' crosses into main actor-isolated code and can cause data races; this is an error in the Swift 6 language mode [#ConformanceIsolation]
 4 | /// Delegate for Sparkle updater to handle beta channels and analytics
 5 | @MainActor
 6 | final class UpdaterDelegate: NSObject, SPUUpdaterDelegate {
   |             |                          |- warning: conformance of 'UpdaterDelegate' to protocol 'SPUUpdaterDelegate' crosses into main actor-isolated code and can cause data races; this is an error in the Swift 6 language mode [#ConformanceIsolation]
   |             |                          |- note: isolate this conformance to the main actor with '@MainActor'
   |             |                          `- note: turn data races into runtime errors with '@preconcurrency'
   |             `- note: mark all declarations used in the conformance 'nonisolated'
 7 | 
 8 |     // MARK: - Beta Channel Filtering
 9 | 
10 |     /// Determine which update channels the user is subscribed to
11 |     func allowedChannels(for updater: SPUUpdater) -> Set<String> {
   |          `- note: main actor-isolated instance method 'allowedChannels(for:)' cannot satisfy nonisolated requirement
12 |         let preferBeta = UserDefaults.standard.bool(forKey: "PreferBetaUpdates")
13 | 
   :
23 |     // MARK: - Update Event Tracking (Analytics)
24 | 
25 |     func updater(_ updater: SPUUpdater, didFindValidUpdate item: SUAppcastItem) {
   |          `- note: main actor-isolated instance method 'updater(_:didFindValidUpdate:)' cannot satisfy nonisolated requirement
26 |         guard UserDefaults.standard.bool(forKey: "EnableAnalytics") else { return }
27 | 
   :
41 |     }
42 | 
43 |     func updater(_ updater: SPUUpdater, didDownloadUpdate item: SUAppcastItem) {
   |          `- note: main actor-isolated instance method 'updater(_:didDownloadUpdate:)' cannot satisfy nonisolated requirement
44 |         guard UserDefaults.standard.bool(forKey: "EnableAnalytics") else { return }
45 | 
   :
49 |     }
50 | 
51 |     func updater(_ updater: SPUUpdater, didAbortWithError error: Error) {
   |          `- note: main actor-isolated instance method 'updater(_:didAbortWithError:)' cannot satisfy nonisolated requirement
52 |         guard UserDefaults.standard.bool(forKey: "EnableAnalytics") else { return }
53 | 
   :
57 |     }
58 | 
59 |     func updaterDidNotFindUpdate(_ updater: SPUUpdater) {
   |          `- note: main actor-isolated instance method 'updaterDidNotFindUpdate' cannot satisfy nonisolated requirement
60 |         guard UserDefaults.standard.bool(forKey: "EnableAnalytics") else { return }
61 | 

[#ConformanceIsolation]: <https://docs.swift.org/compiler/documentation/diagnostics/conformance-isolation>
error: fatalError
